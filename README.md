# Common JS + ES Modules nodejs + ts boilerplate

## Опсиание

В этом шаблоне используется `Common JS` и `ES Modules` для максимальной гибкости и совместимости на данный момент.<br>
Это обосновано тем, что при использовании чистого ESM стандарта в настоящее время могут возникнуть проблемы с совместимостью и прочие нюансы.<br>
В данном шаблоне код преобразуется в Common JS и исполняется в таком формате, а ESM-фичи преобразовываются в код CJS модулей, поэтому всё работает.<br>
Это позволяет использовать как CJS, так и ESM возможности, но стоит пользоваться этим разумно и держать в уме, что код будет преобразован к CJS формату.<br>
Для понятности можно рассматривать модули в проекте как CJS, но с использованием ESM-фич.<br>

## Настройки

В рамках данного шаблона лучше подходит первый варинат для `tsconfig.json`, т.к. код будет собираться сборщиком, а затем запускаться. Расширения в файлах исходного кода в таком случае указывать не нужно, с этим разбирается сборщик.

```js
// ...
"module": "ESNext",
"moduleResolution": "bundler",
// ...
```

Настройки ниже подходят скорее для проекта с чистым ESM подходом, где нужно прописывать расширения в путях (хотя если их использовать, то расширения всё рано не нужны пока не указан `"type": "module"` в `package.json`). Однако, в случае каких-то ошибок или несовместимости, можно попробовать такие настройки:

```js
// ...
"module": "NodeNext",
"moduleResolution": "nodenext",
// ...
```
